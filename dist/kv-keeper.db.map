{"version":3,"sources":["kv-keeper.db.js"],"names":["global","noop","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","namespace","createNamespace","validateType","type","indexOf","Error","ERR_PREFIX","wrapCallback","callback","cb","err","result","i","errorListeners","length","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","req","open","onsuccess","onversionchange","close","onerror","event","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","Object","keys","defineAsGlobal","exports","modules","define","require","provide","preconnect","getStorage","addErrorListener","listener","push","removeErrorListener","index","splice","getErrorListeners","removeAllErrorListeners","configure","options","__configured","key","hasOwnProperty","finalType","finalCallback","_getInstance","errorMessage","data","init","forEach","method","args","arguments","storage","filter","arg","apply","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","that","this","auto","setItem","value","put","String","getItem","get","res","hasItem","Boolean","removeItem","delete","setTimeout","bind","getKeys","openCursor","cursor","continue","getLength","count","clear","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"kv-keeper.db.min.js"}