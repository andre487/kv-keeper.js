{"version":3,"sources":["kv-keeper.db.js"],"names":["global","exports","noop","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","wrapCallback","callback","cb","err","result","i","errorListeners","length","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","req","open","onsuccess","onversionchange","close","onerror","event","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","Object","keys","preconnect","getStorage","addErrorListener","listener","push","removeErrorListener","index","splice","getErrorListeners","removeAllErrorListeners","configure","options","__configured","key","hasOwnProperty","finalType","finalCallback","_getInstance","errorMessage","data","init","forEach","method","args","arguments","storage","apply","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","that","this","auto","setItem","value","put","String","getItem","get","res","hasItem","Boolean","removeItem","delete","setTimeout","bind","getKeys","openCursor","cursor","continue","getLength","count","clear","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"kv-keeper.db.min.js"}