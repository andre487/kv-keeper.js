{"version":3,"sources":["kv-keeper.db.js"],"names":["global","exports","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","result","onversionchange","close","onerror","event","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","getObjectKeys","Object","keys","configure","options","__configured","forEach","key","getStorage","storage","_getInstance","init","data","method","args","arguments","length","apply","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","that","this","setItem","value","put","String","getItem","get","res","removeItem","delete","setTimeout","bind","getKeys","openCursor","cursor","push","continue","getLength","count","clear","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":";CACA,SAAWA,EAAQC,GACf,YAgCA,SAASC,KACLC,EAASC,UAAY,EACrBD,EAASE,OAAS,kBAClBF,EAASG,UAAY,QACrBH,EAASI,YAAcC,EACvBL,EAASM,UAAYC,IAGzB,QAASA,KACL,MAAOP,GAASE,OAAS,IAAMF,EAASG,UAAY,IAgCxD,QAASK,GAAaC,GAClB,GAAmD,KAA9CC,EAASC,EAASN,GAAWO,QAAQH,GACtC,KAAM,IAAII,OAAMC,EAAa,gBAAkBL,GAoCvD,QAASM,GAAeN,GACpB,OAAQA,GACJ,IAAKJ,GACD,MAAOW,IACX,KAAKL,GACD,MAAOM,GAAiBN,EAASO,EAAGC,SACxC,KAAKT,GACD,MAAOO,GAAiBP,EAASU,GAAGD,UAE5C,MAAO,MAGX,QAASF,GAAiBR,EAAMY,GAC5B,OAAQZ,KAAMA,EAAMY,SAAUA,GAGlC,QAASL,KACL,GAAIK,GAAWC,EAAUC,EACzB,OAAIF,GACOJ,EAAiBN,EAASU,IAGrCA,EAAwB,mBAANH,IAAqBA,EAAGC,UAE/BF,EAAiBN,EAASU,IAGrCA,EAAWC,EAAUE,GACjBH,EACOJ,EAAiBP,EAASW,GAGpB,mBAAND,IACAH,EAAiBN,EAASS,GAAGD,UADxC,QAmLJ,QAASM,GAAOC,EAAWC,GACvB,GAAIC,GAAMF,EAAUG,KAAK7B,EAASE,OAAQF,EAASC,UAEnD2B,GAAIE,UAAY,WACZ,GAAIP,GAAKK,EAAIG,MAEbR,GAAGS,gBAAkB,WACjBT,EAAGU,SAGPN,EAAS,KAAMJ,IAGnBK,EAAIM,QAAU,SAAUC,GACpB,GAAIC,GAAM,GAAIvB,OAAMC,EAAa,wBACjCsB,GAAID,MAAQA,EACZR,EAASS,IAGbR,EAAIS,gBAAkB,WAClBnB,EAAGoB,YAAYV,EAAIG,SAGvBH,EAAIW,UAAY,SAAUJ,GACtB,GAAIC,GAAM,GAAIvB,OAAMC,EAAa,gBACjCsB,GAAID,MAAQA,EACZR,EAASS,IASjB,QAASI,GAAcZ,EAAKD,GACxBC,EAAIE,UAAY,SAAUK,GACtBR,EAAS,KAAMQ,IAGnBP,EAAIM,QAAU,SAAUC,GACpB,GAAIM,GAAab,EAAIc,MAAMC,SAAW,iBAClCP,EAAM,GAAIvB,OAAMC,EAAa,qBAAuB2B,EACxDL,GAAID,MAAQA,EACZR,EAASS,IASjB,QAASQ,GAAoBjB,GACzB,MAAO,UAAUS,EAAKD,GAClBC,EACIT,EAASS,GACTT,EAAS,KAAMQ,EAAMU,OAAOd,SA1XxC,GAoBI/B,GApBA8C,GAAe,UAAW,UAAW,aAAc,UAAW,YAAa,SAC3EC,GAAsB,SAAU,YAAa,eAE7CpC,EAAU,KACVD,EAAU,KACVL,EAAY,OAEZ2C,EAAgB,YAChBC,EAAe,WAEfnC,EAAa,eAEboC,EAAgBC,OAAOC,KAEvB9B,IASAxB,GACAE,EAAWF,EAEXD,EAAOG,SAAWA,KAGtBD,IAqBAC,EAASqD,UAAY,SAAUC,GAC3B,GAAItD,EAASuD,aACT,KAAM,IAAI1C,OAAMC,EAAa,qCAEjCd,GAASuD,cAAe,EAEpB,eAAiBD,IACjB9C,EAAa8C,EAAQlD,aAGzB8C,EAAcI,GAASE,QAAQ,SAAUC,GACrC,KAAIV,EAAmBnC,QAAQ6C,GAAO,IAIlC,KADA1D,KACM,GAAIc,OAAMC,EAAa2C,EAAM,uBAHnCzD,GAASyD,GAAOH,EAAQG,KAOhCzD,EAASM,UAAYC,KAczBP,EAAS0D,WAAa,SAAUjD,EAAMkB,GACf,kBAARlB,KACPkB,EAAWlB,EACXA,EAAO,MAGXA,EAAOA,GAAQT,EAASI,YACxBI,EAAaC,EAEb,IAAIkD,GAAU3D,EAAS4D,aAAanD,EACpC,IAAIkD,EACAA,EAAQE,KAAKlC,OACV,CACH,GAAIgB,GAAUlC,GAAQJ,EAAY,sBAAwB,OAASI,EAAO,iBAC1EkB,GAAS,GAAId,OAAMC,EAAa6B,MAIxC3C,EAAS4D,aAAe,SAAUnD,GAC9B,GAAIY,GAAWC,EAAUb,EACzB,KAAKY,EAAU,CACX,GAAIyC,GAAO/C,EAAeN,EAC1BY,GAAWC,EAAUwC,EAAKrD,MAAQqD,EAAKzC,SAE3C,MAAOA,IAyCXyB,EAAYU,QAAQ,SAAUO,GAC1B/D,EAAS+D,GAAU,WACf,GAAIC,GAAOC,SACXjE,GAAS0D,WAAW,SAAUtB,EAAKuB,GAC/B,GAAIvB,EAAK,CACL,GAAIT,GAAWqC,EAAKA,EAAKE,OAAS,EAClC,OAAOvC,GAASS,GAEpBuB,EAAQI,GAAQI,MAAMR,EAASK,OAS3C,IAAI9C,GAAKlB,EAASoE,UAAY,SAAU1C,GA6HpC,QAAS2C,GAAoB5D,GACzB,MAAO6D,GAAWC,aAAavE,EAASG,WAAYM,GAC/C+D,YAAYxE,EAASG,WA9H9B,GACImE,GADAG,EAAOC,IAOXD,GAAKZ,KAAO,SAAUlC,GAClBF,EAAOC,EAAW,SAAUU,EAAKb,GAC7B,MAAIa,GACOT,EAASS,IAEpBkC,EAAa/C,MACbI,GAAS,KAAM8C,OAOvBA,EAAKxC,MAAQ,WACTqC,EAAWrC,QACXX,EAAUC,GAAK,MASnBkD,EAAKE,QAAU,SAAUlB,EAAKmB,EAAOjD,GACjCa,EACI6B,EAAoBrB,GAAe6B,KAAKpB,IAAKA,EAAKmB,MAAOE,OAAOF,KAChEhC,EAAoBjB,KAS5B8C,EAAKM,QAAU,SAAUtB,EAAK9B,GAC1Ba,EACI6B,EAAoBpB,GAAc+B,IAAIvB,GACtC,SAAUrB,EAAKD,GACX,GAAIC,EACA,MAAOT,GAASS,EAEpB,IAAI6C,GAAM9C,EAAMU,OAAOd,MACvBJ,GAAS,KAAMsD,EAAMA,EAAIL,MAAQ,SAU7CH,EAAKS,WAAa,SAAUzB,EAAK9B,GAC7Ba,EACI6B,EAAoBrB,GAAemC,OAAO1B,GAC1Cb,EAAoB,SAAUR,EAAKD,GAG/BiD,WAAWzD,EAAS0D,KAAK,KAAMjD,EAAKD,GAAQ,OASxDsC,EAAKa,QAAU,SAAU3D,GACrB,GAAIyB,KAEJZ,GACI6B,EAAoBpB,GAAcsC,aAClC,SAAUnD,EAAKD,GACX,GAAIC,EACA,MAAOT,GAASS,EAGpB,IAAIoD,GAASrD,EAAMU,OAAOd,MAC1B,OAAIyD,IACApC,EAAKqC,KAAKD,EAAO/B,KACV+B,EAAOE,gBAGlB/D,GAAS,KAAMyB,MAS3BqB,EAAKkB,UAAY,SAAUhE,GACvBa,EACI6B,EAAoBpB,GAAc2C,QAClChD,EAAoBjB,KAQ5B8C,EAAKoB,MAAQ,SAAUlE,GACnBa,EACI6B,EAAoBrB,GAAe6C,QACnCjD,EAAoBjB,KAoBhCT,GAAGC,OAAS,WACR,GAAIO,GAAY7B,EAAOiG,SACvB,OAAOpE,IAAaA,EAAUG,MAAQhC,EAAOkG,YAAc,GAAI7E,GAAGQ,GAAa,MAOnFR,EAAGoB,YAAc,SAAUf,GAClBA,EAAGyE,iBAAiBC,SAASjG,EAASG,YACvCoB,EAAG2E,kBAAkBlG,EAASG,WAAYgG,QAAS,UAsE5DC,KAAwB,mBAAXtG,UAA0BA","file":"kv-keeper.db.min.js"}