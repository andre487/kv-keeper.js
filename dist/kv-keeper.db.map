{"version":3,"sources":["kv-keeper.db.js"],"names":["global","exports","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","wrapCallback","callback","err","result","i","errorListeners","length","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","req","open","onsuccess","onversionchange","close","onerror","event","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","getObjectKeys","Object","keys","addErrorListener","listener","push","removeErrorListener","index","splice","getErrorListeners","removeAllErrorListeners","configure","options","__configured","forEach","key","getStorage","storage","_getInstance","init","data","method","args","arguments","apply","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","that","this","setItem","value","put","String","getItem","get","res","removeItem","delete","setTimeout","bind","getKeys","openCursor","cursor","continue","getLength","count","clear","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"kv-keeper.db.min.js"}