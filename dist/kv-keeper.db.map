{"version":3,"sources":["kv-keeper.db.js"],"names":["global","noop","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","wrapCallback","callback","cb","err","result","i","errorListeners","length","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","req","open","onsuccess","onversionchange","close","onerror","event","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","Object","keys","defineAsGlobal","exports","modules","define","require","provide","preconnect","getStorage","addErrorListener","listener","push","removeErrorListener","index","splice","getErrorListeners","removeAllErrorListeners","configure","options","__configured","key","hasOwnProperty","finalType","finalCallback","_getInstance","errorMessage","data","init","forEach","method","args","arguments","storage","filter","arg","apply","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","that","this","auto","setItem","value","put","String","getItem","get","res","hasItem","Boolean","removeItem","delete","setTimeout","bind","getKeys","openCursor","cursor","continue","getLength","count","clear","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"kv-keeper.db.min.js"}