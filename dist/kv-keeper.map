{"version":3,"sources":["?","lib/kv-keeper.js"],"names":["exports","global","instances","KvKeeper","DB_NAME","DB_VERSION","STORE_NAME","getStorage","type","callback","storage","_getInstance","ensureReady","message","Error","Class","getStorageClass","create","Auto","DB","LS","_clearInstance","methods","forEach","method","args","push","apply","arguments","err","length","StorageLS","that","this","setItem","key","value","e","getItem","hasItem","removeItem","getKeys","Object","keys","getLength","clear","close","window","localStorage","StorageDB","indexedDb","openDb","db","_db","req","getTransactionStore","put","wrapDbRequest","dataGetter","get","openCursor","event","Boolean","target","result","delete","cursor","continue","count","transaction","objectStore","indexedDB","setupSchema","createObjectStore","keyPath","open","onupgradeneeded","onblocked","onsuccess","onerror","resPath","pathParts","split","i"],"mappings":";CAAC,SAASA,EAASC,GCAnB,YACA,IAAIC,KAMJ,IAAIC,KAGJ,UAAWH,KAAY,YAAa,CAChCG,EAAWH,EAOfG,EAASC,QAAU,iBAMnBD,GAASE,WAAa,CAMtBF,GAASG,WAAa,OAOtBH,GAASI,WAAa,SAAUC,EAAMC,GAClC,SAAWD,KAAS,WAAY,CAC5BC,EAAWD,CACXA,GAAO,KAEXA,EAAOA,GAAQ,MAEf,IAAIE,GAAUP,EAASQ,aAAaH,EACpC,IAAIE,EAAS,CACTA,EAAQE,YAAYH,OACjB,CACH,GAAII,GAAUL,IAAS,OACnB,8CACA,sBAAwBA,EAAO,oBACnCC,GAAS,GAAIK,OAAM,eAAiBD,KAI5CV,GAASQ,aAAe,SAAUH,GAC9B,IAAKN,EAAUM,GAAO,CAClB,GAAIO,GAAQC,EAAgBR,EAC5B,IAAIO,EAAO,CACPb,EAAUM,GAAQO,EAAME,UAGhC,MAAOf,GAAUM,GAGrB,SAASQ,GAAgBR,GACrB,OAAQA,GACJ,IAAK,OACD,MAAOU,EACX,KAAK,KACD,MAAOC,EACX,KAAK,KACD,MAAOC,IAKnBjB,EAASkB,eAAiB,SAAUb,GAChCN,EAAUM,GAAQ,KAItB,IAAIc,IAAW,UAAW,UAAW,UAAW,aAAc,UAAW,YAAa,QAEtFA,GAAQC,QAAQ,SAAUC,GACtBrB,EAASqB,GAAU,WACf,GAAIC,SACDC,KAAKC,MAAMF,EAAMG,UAEpBzB,GAASI,WAAW,SAAUsB,EAAKnB,GAC/B,GAAImB,EAAK,CACL,GAAIpB,GAAWgB,EAAKA,EAAKK,OAAS,EAClC,OAAOrB,GAASoB,GAEpBnB,EAAQc,GAAQG,MAAMjB,EAASe,OAS3C,IAAIP,IAMAD,OAAQ,WACJ,MAAOE,GAAGF,UAAYG,EAAGH,UAQjC,IAAIG,GAAKjB,EAAS4B,UAAY,SAAUrB,GACpC,GAAIsB,GAAOC,IAMXA,MAAKrB,YAAc,SAAUH,GACzBA,EAAS,KAAMuB,GASnBC,MAAKC,QAAU,SAAUC,EAAKC,EAAO3B,GACjC,IACIC,EAAQwB,QAAQC,EAAKC,EACrB3B,IAAYA,EAAS,MACvB,MAAO4B,GACL5B,GAAYA,EAAS4B,IAS7BJ,MAAKK,QAAU,SAAUH,EAAK1B,GAC1BA,EAAS,KAAMC,EAAQ4B,QAAQH,IAQnCF,MAAKM,QAAU,SAAUJ,EAAK1B,GAC1BA,EAAS,KAAM0B,IAAOzB,IAQ1BuB,MAAKO,WAAa,SAAUL,EAAK1B,GAC7BC,EAAQ8B,WAAWL,EACnB1B,IAAYA,EAAS,MAOzBwB,MAAKQ,QAAU,SAAUhC,GACrBA,EAAS,KAAMiC,OAAOC,KAAKjC,IAO/BuB,MAAKW,UAAY,SAAUnC,GACvBA,EAAS,KAAMC,EAAQoB,QAO3BG,MAAKY,MAAQ,SAAUpC,GACnBC,EAAQmC,OACRpC,IAAYA,EAAS,MAMzBwB,MAAKa,MAAQ,aAQjB1B,GAAGH,OAAS,WACR,GAAIP,GAAUqC,OAAOC,YACrB,OAAOtC,GAAU,GAAIU,GAAGV,GAAW,KAOvC,IAAIS,GAAKhB,EAAS8C,UAAY,SAAUC,GACpC,GAAIlB,GAAOC,IAMXA,MAAKrB,YAAc,SAAUH,GACzB0C,EAAOD,EAAW,SAAUrB,EAAKuB,GAC7B,GAAIvB,EAAK,CACL,MAAOpB,GAASoB,GAEpBG,EAAKqB,IAAMD,CACX3C,GAAS,KAAMuB,KAOvBC,MAAKa,MAAQ,WACTd,EAAKqB,IAAIP,QASbb,MAAKC,QAAU,SAAUC,EAAKC,EAAO3B,GACjC,GAAI6C,GAAMC,EAAoB,aAAaC,KAAKrB,IAAKA,EAAKC,MAAOA,GAEjEqB,GAAcH,EAAKI,EAAWjD,IAQlCwB,MAAKK,QAAU,SAAUH,EAAK1B,GAC1B,GAAI6C,GAAMC,EAAoB,YAAYI,IAAIxB,EAE9CsB,GAAcH,EAAKI,EAAWjD,EAAU,wBAQ5CwB,MAAKM,QAAU,SAAUJ,EAAK1B,GAC1B,GAAI6C,GAAMC,EAAoB,YAAYK,WAAWzB,EAErDsB,GAAcH,EAAK,SAAUzB,EAAKgC,GAC9B,GAAIhC,EAAK,CACL,MAAOpB,GAASoB,GAEpBpB,EAAS,KAAMqD,QAAQD,EAAME,OAAOC,WAS5C/B,MAAKO,WAAa,SAAUL,EAAK1B,GAC7B,GAAI6C,GAAMC,EAAoB,aAAaU,OAAO9B,EAElDsB,GAAcH,EAAKI,EAAWjD,IAOlCwB,MAAKQ,QAAU,SAAUhC,GACrB,GAAI6C,GAAMC,EAAoB,YAAYK,YAC1C,IAAIjB,KAEJc,GAAcH,EAAK,SAAUzB,EAAKgC,GAC9B,GAAIhC,EAAK,CACL,MAAOpB,GAASoB,GAGpB,GAAIqC,GAASL,EAAME,OAAOC,MAC1B,IAAIE,EAAQ,CACRvB,EAAKjB,KAAKwC,EAAO/B,IACjB,OAAO+B,GAAOC,WAGlB1D,EAAS,KAAMkC,KAQvBV,MAAKW,UAAY,SAAUnC,GACvB,GAAI6C,GAAMC,EAAoB,YAAYa,OAE1CX,GAAcH,EAAKI,EAAWjD,EAAU,kBAO5CwB,MAAKY,MAAQ,SAAUpC,GACnB,GAAI6C,GAAMC,EAAoB,aAAaV,OAE3CY,GAAcH,EAAKI,EAAWjD,IAGlC,SAAS8C,GAAoB/C,GACzB,MAAOwB,GAAKqB,IAAIgB,aAAalE,EAASG,YAAaE,GAC9C8D,YAAYnE,EAASG,aASlCa,GAAGF,OAAS,WACR,GAAIiC,GAAYH,OAAOwB,SACvB,OAAOrB,GAAY,GAAI/B,GAAG+B,GAAa,KAO3C/B,GAAGqD,YAAc,SAAUpB,GACvBA,EAAGqB,kBAAkBtE,EAASG,YAAaoE,QAAS,QAGxD,SAASvB,GAAOD,EAAWzC,GACvB,GAAI6C,GAAMJ,EAAUyB,KAAKxE,EAASC,QAASD,EAASE,WAEpDoD,GAAcH,EAAKI,EAAWjD,EAAU,iBAExC6C,GAAIsB,gBAAkB,SAAUf,GAC5B1C,EAAGqD,YAAYX,EAAME,OAAOC,QAGhCV,GAAIuB,UAAY,SAAUhB,GACtB,GAAIhC,GAAM,GAAIf,OAAM,4BACpBe,GAAIgC,MAAQA,CACZpD,GAASoB,IAIjB,QAAS4B,GAAcH,EAAK7C,GACxB6C,EAAIwB,UAAY,SAAUjB,GACtBpD,EAAS,KAAMoD,GAGnBP,GAAIyB,QAAU,SAAUlB,GACpB,GAAIhC,GAAM,GAAIf,OAAM,+BACpBe,GAAIgC,MAAQA,CACZpD,GAASoB,IAIjB,QAAS6B,GAAWjD,EAAUuE,GAC1B,IAAKvE,EAAU,CACX,MAAO,cAGX,MAAO,UAAUoB,EAAKgC,GAClB,GAAIhC,EAAK,CACL,MAAOpB,GAASoB,GAGpB,SAAWmD,KAAY,YAAa,CAChC,MAAOvE,GAAS,MAGpB,GAAIwE,GAAYD,EAAQE,MAAM,IAC9B,IAAIlB,GAASH,CAEb,KAAK,GAAIsB,GAAI,EAAGA,EAAIF,EAAUnD,OAAQqD,IAAK,CACvC,KAAMF,EAAUE,IAAMnB,IAAS,CAC3BA,EAAS,IACT,OAEJA,EAASA,EAAOiB,EAAUE,IAG9B1E,EAAS,KAAMuD,ID3Z0B/D,EAAO,YAAcD,OAAgB,WAAW,MAAOiC","file":"dist/kv-keeper.min.js"}