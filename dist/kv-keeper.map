{"version":3,"sources":["?","lib/kv-keeper.js"],"names":["exports","global","instances","KvKeeper","DB_NAME","DB_VERSION","STORE_NAME","getStorage","type","callback","storage","_getInstance","init","message","Error","instance","data","createInstance","createAutoInstance","DB","create","LS","db","ls","methods","forEach","method","args","push","apply","arguments","err","length","StorageLS","that","this","setItem","key","value","e","getItem","hasItem","removeItem","getKeys","Object","keys","getLength","clear","close","window","localStorage","StorageDB","indexedDb","openDb","_db","req","getTransactionStore","put","wrapDbRequest","dataGetter","get","openCursor","event","Boolean","target","result","delete","cursor","continue","count","transaction","objectStore","indexedDB","setupSchema","createObjectStore","keyPath","open","onsuccess","onversionchange","onerror","onupgradeneeded","onblocked","resPath","pathParts","split","i"],"mappings":"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","file":"dist/kv-keeper.min.js"}