{"version":3,"sources":["?","lib/kv-keeper.js"],"names":["exports","global","instances","KvKeeper","setDefaultConfiguration","dbVersion","dbName","storeName","namespace","createNamespace","configurable","configure","options","__configured","Error","Object","keys","forEach","key","indexOf","getStorage","type","callback","storage","_getInstance","init","message","instance","data","createInstance","createAutoInstance","DB","create","LS","db","ls","methods","method","args","push","apply","arguments","err","length","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","undefined","removeItem","getKeys","filter","isKeeperKey","getLength","clear","close","base","window","localStorage","StorageDB","indexedDb","openDb","_db","req","getTransactionStore","put","wrapDbRequest","dataGetter","get","openCursor","event","Boolean","target","result","delete","deferredCallback","setTimeout","cursor","continue","count","transaction","objectStore","indexedDB","setupSchema","createObjectStore","keyPath","name","console","warn","open","onsuccess","onversionchange","onerror","onupgradeneeded","onblocked","resPath","pathParts","split","i"],"mappings":"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","file":"dist/kv-keeper.min.js"}