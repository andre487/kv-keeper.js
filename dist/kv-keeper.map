{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","undefined","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","namespace","createNamespace","createInstance","type","createAutoInstance","instance","DB","create","LS","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","event","target","result","onversionchange","close","onerror","err","Error","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","dataGetter","resPath","pathParts","split","i","length","T_READ_WRITE","T_READ_ONLY","exports","configurable","configure","options","__configured","Object","keys","forEach","key","indexOf","getStorage","storage","_getInstance","init","message","data","methods","method","args","push","apply","arguments","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","get","openCursor","Boolean","deferredCallback","setTimeout","delete","cursor","continue","count","indexedDB","createObjectStore","keyPath","name","console","warn","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}