{"version":3,"sources":["kv-keeper.js"],"names":["global","noop","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","namespace","createNamespace","validateType","type","indexOf","Error","ERR_PREFIX","wrapCallback","callback","cb","err","result","i","errorListeners","length","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","req","open","onsuccess","onversionchange","close","onerror","event","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","getObjectKeys","Object","keys","defineAsGlobal","exports","modules","define","require","provide","preconnect","getStorage","addErrorListener","listener","push","removeErrorListener","index","splice","getErrorListeners","removeAllErrorListeners","configure","options","__configured","key","hasOwnProperty","finalType","finalCallback","_getInstance","errorMessage","data","init","forEach","method","args","arguments","storage","filter","arg","apply","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","removeItem","getKeys","allKeys","nsLength","thatKeys","isKeeperKey","slice","getLength","clear","auto","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","String","get","res","Boolean","delete","setTimeout","bind","openCursor","cursor","continue","count","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"kv-keeper.min.js"}