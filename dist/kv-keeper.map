{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","exports","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","result","onversionchange","close","onerror","event","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","getObjectKeys","Object","keys","configure","options","__configured","forEach","key","getStorage","storage","_getInstance","init","data","method","args","arguments","length","apply","StorageLS","that","this","setItem","value","createKey","e","getItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","String","get","res","delete","setTimeout","bind","openCursor","cursor","push","continue","count","indexedDB","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}