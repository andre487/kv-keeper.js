{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","exports","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","event","target","result","onversionchange","close","onerror","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","wrapRequestCallback","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","getObjectKeys","Object","keys","configure","options","__configured","forEach","key","getStorage","storage","_getInstance","init","message","data","method","args","arguments","length","apply","StorageLS","that","this","setItem","value","createKey","e","getItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","get","res","delete","setTimeout","bind","openCursor","cursor","push","continue","count","ua","navigator","userAgent","test","indexedDB","createObjectStore","keyPath","name","console","warn","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}