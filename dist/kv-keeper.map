{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","exports","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","TYPE_LS","TYPE_DB","indexOf","Error","ERR_PREFIX","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","result","onversionchange","close","onerror","event","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","errMessage","error","message","wrapRequestCallback","target","LIB_METHODS","CONFIGURABLE_PROPS","TR_READ_WRITE","TR_READ_ONLY","getObjectKeys","Object","keys","configure","options","__configured","forEach","key","getStorage","storage","_getInstance","init","data","method","args","arguments","length","apply","StorageLS","that","this","setItem","value","createKey","e","getItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","String","get","res","delete","setTimeout","bind","openCursor","cursor","push","continue","count","indexedDB","IDBKeyRange","objectStoreNames","contains","createObjectStore","keyPath","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}