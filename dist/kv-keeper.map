{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","undefined","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","TYPE_AUTO","namespace","createNamespace","validateType","type","validTypes","indexOf","Error","createInstance","createAutoInstance","TYPE_DB","formInstanceData","DB","create","TYPE_LS","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","event","target","result","onversionchange","close","onerror","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","dataGetter","resPath","pathParts","split","i","length","TR_READ_WRITE","TR_READ_ONLY","exports","configurable","configure","options","__configured","Object","keys","forEach","key","getStorage","storage","_getInstance","init","message","data","methods","method","args","push","apply","arguments","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","get","openCursor","Boolean","deferredCallback","setTimeout","delete","cursor","continue","count","indexedDB","createObjectStore","keyPath","name","console","warn","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}