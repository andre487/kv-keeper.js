{"version":3,"sources":["dist/kv-keeper.work.js"],"names":["global","undefined","setDefaultConfiguration","KvKeeper","dbVersion","dbName","storeName","defaultType","namespace","createNamespace","validateType","type","validTypes","indexOf","Error","createInstance","createAutoInstance","formInstanceData","DB","create","LS","instance","instances","db","ls","openDb","indexedDb","callback","req","open","onsuccess","event","target","result","onversionchange","close","onerror","err","onupgradeneeded","setupSchema","onblocked","wrapDbRequest","dataGetter","resPath","pathParts","split","i","length","T_READ_WRITE","T_READ_ONLY","exports","configurable","configure","options","__configured","Object","keys","forEach","key","getStorage","storage","_getInstance","init","message","data","methods","method","args","push","apply","arguments","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","base","localStorage","StorageDB","getTransactionStore","dbInstance","transaction","objectStore","put","get","openCursor","Boolean","deferredCallback","setTimeout","delete","cursor","continue","count","indexedDB","createObjectStore","keyPath","name","console","warn","self"],"mappings":"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","file":"dist/kv-keeper.min.js"}