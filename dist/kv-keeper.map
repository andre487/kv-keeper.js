{"version":3,"sources":["?","lib/kv-keeper.js"],"names":["exports","global","instances","KvKeeper","setDefaultConfiguration","dbVersion","dbName","storeName","namespace","createNamespace","configurable","configure","options","__configured","Error","Object","keys","forEach","key","indexOf","getStorage","type","callback","storage","_getInstance","init","message","instance","data","createInstance","createAutoInstance","DB","create","LS","db","ls","methods","method","args","push","apply","arguments","err","length","StorageLS","that","this","setItem","value","createKey","e","getItem","hasItem","removeItem","getKeys","filter","isKeeperKey","getLength","clear","close","base","window","localStorage","StorageDB","indexedDb","openDb","_db","req","getTransactionStore","put","wrapDbRequest","dataGetter","get","openCursor","event","Boolean","target","result","delete","cursor","continue","count","transaction","objectStore","indexedDB","setupSchema","createObjectStore","keyPath","name","console","warn","open","onsuccess","onversionchange","onerror","onupgradeneeded","onblocked","resPath","pathParts","split","i"],"mappings":"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","file":"dist/kv-keeper.min.js"}